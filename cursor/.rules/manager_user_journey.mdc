---
description: 
globs: 
alwaysApply: true
---
# ğŸ‘¨â€ğŸ’¼ **Manager User Journey - AI Performance Review Platform**

## **Quick Navigation**
- ğŸ“‹ **Cross-References:** [HR Admin Journey](mdc:hr_admin_user_journey.mdc) | [Individual Journey](mdc:individual_user_journey.mdc) | [Shared Components](mdc:shared_ui_patterns.mdc)
- ğŸ¯ **Role Permissions:** Create goals for team, manage team performance, participate in reviews
- ğŸ”— **Key Interactions:** Goal assignment to Individual Contributors, receiving objectives from HR Admin

---

## **ğŸ” Authentication & Navigation**

### **Login Flow**
Success â†’ Redirect to `/dashboard` (Manager Dashboard)

### **Navigation Structure**
```
Header: ReviewAI Logo | [Give Feedback] â†’ (see shared_ui_patterns.mdc) | Notifications | Profile
Sidebar: Dashboard | My Objectives | Team Goals | Feedback | Reviews | Reports
```

---

## **ğŸ“Š Manager Dashboard**
**URL:** `/dashboard` | **Component:** `ManagerDashboard`

### **Main Content Layout**
```
â”œâ”€â”€ My Assigned Objectives Section
â”‚   â”œâ”€â”€ Objective cards with progress bars
â”‚   â”œâ”€â”€ Goals Summary: [Completed/Total]
â”‚   â””â”€â”€ [View Details] â†’ /objectives/{id}
â”œâ”€â”€ Team Performance Overview
â”‚   â”œâ”€â”€ Team Members: [Count]
â”‚   â”œâ”€â”€ Active Goals: [Count] 
â”‚   â”œâ”€â”€ Overdue Goals: [Count] with red warning
â”‚   â””â”€â”€ [View Team Report] â†’ /reports
â””â”€â”€ Team Member Cards (direct reports only)
    â”œâ”€â”€ Active Goals count per member
    â”œâ”€â”€ Progress percentages
    â””â”€â”€ [View Details] â†’ /team-goals?assignee={user_id}
```

### **Edge Cases**
- **No objectives:** "No objectives assigned. Contact HR to get started."
- **No team:** "Add team members to start creating goals. Click 'Manage Team'."
- **All objectives completed:** Show completion celebration + [View Reports]

### **Data Sources**
- `GET /api/dashboard/manager`
- `GET /api/objectives?owner_id={current_user}`
- `GET /api/users/team` (department-filtered)

---

## **ğŸ¯ My Objectives Management**
**URL:** `/objectives` | **Component:** `MyObjectives`

### **Objectives Overview**
```
Header: "My Assigned Objectives" | [Create New Goal] Button
Filters: All | Active | Completed

Each Objective Card:
â”œâ”€â”€ Title and Status Badge â†’ (see shared_ui_patterns.mdc)
â”œâ”€â”€ Date Range and Progress Circle
â”œâ”€â”€ Goals Breakdown:
â”‚   â”œâ”€â”€ Total Goals: [Count]
â”‚   â”œâ”€â”€ Completed: [Count] 
â”‚   â”œâ”€â”€ In Progress: [Count]
â”‚   â””â”€â”€ Blocked: [Count]
â””â”€â”€ Actions: [View Details] [Create Goal] [Analytics]
```

### **Objective Details Modal**
```
Modal Content:
â”œâ”€â”€ Objective Information (read-only, created by HR Admin)
â”œâ”€â”€ Goals Progress Table
â”‚   â”œâ”€â”€ Goal Title | Assignee | Progress | Status | Due Date
â”‚   â””â”€â”€ Row Actions: [View] [Edit] [Delete]
â”œâ”€â”€ Team Performance Metrics
â””â”€â”€ Actions: [Close] [Create Goal] [View Analytics]
```

### **Business Rules**
- **Cannot edit objective details** (HR Admin only)
- **Goals must be assigned to direct reports** (department-filtered)
- **Goal due dates cannot exceed objective timeline**
- **Auto-complete objective when all goals complete**

---

## **ğŸ‘¥ Team Goals Management**
**URL:** `/team-goals` | **Component:** `TeamGoals`

### **Goals Management Interface**
```
Header: "Team Goals Management" | [Create New Goal]

Filters:
â”œâ”€â”€ Objective: All | [Manager's Objectives List]
â”œâ”€â”€ Assignee: All | [Direct Reports List]  
â”œâ”€â”€ Status: All | Not Started | In Progress | Completed | Blocked
â””â”€â”€ Due Date: All | This Week | This Month | Overdue

Goals Table:
Columns: Goal Title | Objective | Assigned To | Progress | Status | Due Date | Actions
```

### **Create Goal Modal**
```
Form Fields:
â”œâ”€â”€ Goal Title* (max 100 chars, unique within objective)
â”œâ”€â”€ Description (max 500 chars)
â”œâ”€â”€ Parent Objective* (dropdown from manager's objectives)
â”œâ”€â”€ Assign to Team Member* (dropdown from direct reports)
â”œâ”€â”€ Due Date* (min: tomorrow, max: objective end date)
â””â”€â”€ Priority: High | Medium | Low

Validation:
- Title unique within objective
- Assignee must be direct report (department constraint)
- Due date within objective timeline
- All required fields filled

Actions: [Cancel] [Save as Draft] [Create & Assign]
Success: Goal created + Individual Contributor notified
```

### **Goal Management Actions**
- **[View]** â†’ Goal Details Modal
- **[Edit]** â†’ Edit Goal Modal (only if status = not started)
- **[Delete]** â†’ Confirmation â†’ `DELETE /api/goals/{id}`

### **Critical Constraints**
- **Cannot assign to users outside department**
- **Cannot edit goals after they're started**
- **Duplicate goal titles within objective â†’ Error**

---

## **ğŸ’¬ Feedback Management**
**URL:** `/feedback` | **Component:** `FeedbackManagement`

### **Tab Navigation**
```
â”œâ”€â”€ Team Overview (active)
â”œâ”€â”€ Give Feedback â†’ (uses shared_ui_patterns.mdc Global Feedback Modal)
â””â”€â”€ Received Feedback
```

### **Team Overview Tab**
```
â”œâ”€â”€ Feedback Summary Cards
â”‚   â”œâ”€â”€ Total Given (30 days): [Count]
â”‚   â”œâ”€â”€ Total Received (30 days): [Count]
â”‚   â””â”€â”€ Team Participation: [Percentage]
â”œâ”€â”€ Individual Team Member Sections
â”‚   â”œâ”€â”€ Member photo and name
â”‚   â”œâ”€â”€ Feedback received by type: [Counts]
â”‚   â”œâ”€â”€ Recent feedback preview
â”‚   â””â”€â”€ [View All] [Give Feedback] buttons
â””â”€â”€ Team Trends Charts
    â”œâ”€â”€ Feedback volume over time
    â””â”€â”€ Common feedback tags
```

### **Cross-Role Interactions**
- **Give Feedback:** Can give to anyone (not limited to team)
- **Team Feedback:** Only see team members' feedback
- **Anonymous Reviews:** Cannot see sources (business rule)

---

## **ğŸ“ Reviews Management**
**URL:** `/reviews` | **Component:** `ReviewsManagement`

### **Active Review Cycle Section**
```
Current Cycle Info (if active):
â”œâ”€â”€ Cycle name and timeline (created by HR Admin)
â”œâ”€â”€ Current phase indicator
â”œâ”€â”€ Time remaining
â””â”€â”€ [View Cycle Details] â†’ /admin/review-cycles/{id} (HR Admin reference)

Team Review Status:
â”œâ”€â”€ Each team member card:
â”‚   â”œâ”€â”€ Self-Assessment: Complete/Pending
â”‚   â”œâ”€â”€ Peer Reviews: [Count/Expected]
â”‚   â”œâ”€â”€ My Manager Review: Status
â”‚   â””â”€â”€ Meeting: Scheduled/Pending
â””â”€â”€ [View Team Summary] button
```

### **Manager Review Actions**
```
My Review Responsibilities:
â”œâ”€â”€ Self-Assessment: [Complete/Continue]
â”œâ”€â”€ Manager Reviews to Complete: [Count] (for direct reports)
â”œâ”€â”€ Peer Reviews: [Count] (colleagues)
â”œâ”€â”€ Upward Review: [Provide Feedback] (for my manager)
â””â”€â”€ Team Performance Summary: [Create Report]
```

### **Review Cycle Constraints**
- **No active cycle:** "No active review cycle. HR Admin will start cycles."
- **Review submitted after deadline:** "Review period ended"
- **Team member left mid-cycle:** Gray out their section

---

## **ğŸ“Š Reports & Analytics**
**URL:** `/reports` | **Component:** `ManagerReports`

### **Team Performance Reports**
```
Report Types:
â”œâ”€â”€ Objective Completion Rates
â”œâ”€â”€ Goal Progress Trends
â”œâ”€â”€ Team Member Performance
â”œâ”€â”€ Feedback Analysis
â””â”€â”€ Review Cycle Results

Filters:
â”œâ”€â”€ Time Period: Last Quarter | This Quarter | Custom Range
â”œâ”€â”€ Team Members: All | [Individual Selection]
â””â”€â”€ Objective: All | [Specific Objective]

Export Options:
â””â”€â”€ [Export PDF] [Export Excel] [Share Report]
```

---

## **ğŸ”— Integration Points**

### **With HR Admin**
- **Receives:** Objectives assignments â†’ notification + `/objectives` update
- **Cannot:** Edit objective details, delete objectives with active goals
- **Requests:** Access to company-wide analytics â†’ contact HR Admin

### **With Individual Contributors**
- **Assigns:** Goals â†’ triggers notification to Individual Contributor
- **Receives:** Task progress updates â†’ reflected in goal progress
- **Reviews:** Individual's self-assessments during review cycles

### **Cross-Role Permissions**
- **Can manage:** Direct reports only (department constraint)
- **Can view:** Team performance data, not individual sensitive data
- **Cannot access:** Other departments, anonymous feedback sources

---

## **âš ï¸ Manager-Specific Edge Cases**

### **Team Management**
```
No Team Members:
- Show "Add team members" message
- Disable goal creation
- Contact HR Admin for team assignment

Cross-Department Request:
- Error: "Cannot assign goals outside your department"
- Filter all dropdowns by department
```

### **Goal Management**
```
Goal After Start:
- Disable editing after goal status changes to "In Progress"
- Show "Cannot edit active goals" message

Objective Timeline Conflicts:
- Prevent goal due dates beyond objective end date
- Auto-validate date picker constraints
```

### **Review Cycle Participation**
```
Mid-Cycle Team Changes:
- New team member â†’ automatically included in active cycle
- Departed team member â†’ maintain data but gray out interface
- Role change â†’ maintain historical data, update future permissions
```

---

**Related Files:** [HR Admin Journey](mdc:hr_admin_user_journey.mdc) | [Individual Journey](mdc:individual_user_journey.mdc) | [Shared Components](mdc:shared_ui_patterns.mdc)
